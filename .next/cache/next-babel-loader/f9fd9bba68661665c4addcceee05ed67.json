{"ast":null,"code":"const mail = require('@sendgrid/mail');\n\nmail.setApiKey(process.env.SENDGRID_API_KEY);\nexport default (async (req, res) => {\n  const body = JSON.parse(req.body);\n  const message = `\n    Name: ${body.Name}\\r\\n\n    Email: ${body.Email}\\r\\n\n    Phone: ${body.Phone}\\r\\n\n    Message: ${body.Message}\n  `;\n  await mail.send({\n    to: 'prajjwalkhanal@gmail.com',\n    from: 'prajjwalkhanal@gmail.com',\n    subject: 'New Message from Website',\n    text: message,\n    html: message.replace(/\\r\\n/g, '<br>')\n  });\n  res.status(200).json({\n    status: 'Ok'\n  });\n});","map":{"version":3,"sources":["/Users/prajjwalkhanal/Documents/Next.JS/NextJS-PersonalWebsite/pages/api/mail.js"],"names":["mail","require","setApiKey","process","env","SENDGRID_API_KEY","req","res","body","JSON","parse","message","Name","Email","Phone","Message","send","to","from","subject","text","html","replace","status","json"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,gBAAD,CAApB;;AAEID,IAAI,CAACE,SAAL,CAAeC,OAAO,CAACC,GAAR,CAAYC,gBAA3B;AAEJ,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWJ,GAAG,CAACE,IAAf,CAAb;AAEA,QAAMG,OAAO,GAAI;AACnB,YAAYH,IAAI,CAACI,IAAK;AACtB,aAAaJ,IAAI,CAACK,KAAM;AACxB,aAAaL,IAAI,CAACM,KAAM;AACxB,eAAeN,IAAI,CAACO,OAAQ;AAC5B,GALE;AAOA,QAAMf,IAAI,CAACgB,IAAL,CAAU;AACdC,IAAAA,EAAE,EAAE,0BADU;AAEdC,IAAAA,IAAI,EAAE,0BAFQ;AAGdC,IAAAA,OAAO,EAAE,0BAHK;AAIdC,IAAAA,IAAI,EAAET,OAJQ;AAKdU,IAAAA,IAAI,EAAEV,OAAO,CAACW,OAAR,CAAgB,OAAhB,EAAyB,MAAzB;AALQ,GAAV,CAAN;AAQAf,EAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE;AAAV,GAArB;AACD,CAnBD","sourcesContent":["const mail = require('@sendgrid/mail');\n\n    mail.setApiKey(process.env.SENDGRID_API_KEY);\n\nexport default async (req, res) => {\n  const body = JSON.parse(req.body);\n\n  const message = `\n    Name: ${body.Name}\\r\\n\n    Email: ${body.Email}\\r\\n\n    Phone: ${body.Phone}\\r\\n\n    Message: ${body.Message}\n  `;\n\n  await mail.send({\n    to: 'prajjwalkhanal@gmail.com',\n    from: 'prajjwalkhanal@gmail.com',\n    subject: 'New Message from Website',\n    text: message,\n    html: message.replace(/\\r\\n/g, '<br>'),\n  });\n\n  res.status(200).json({ status: 'Ok' });\n}"]},"metadata":{},"sourceType":"module"}